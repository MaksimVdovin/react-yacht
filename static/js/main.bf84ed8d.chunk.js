(this.webpackJsonpyacht=this.webpackJsonpyacht||[]).push([[0],{39:function(e,n,a){e.exports=a(53)},44:function(e,n,a){},45:function(e,n,a){},46:function(e,n,a){},51:function(e,n,a){},53:function(e,n,a){"use strict";a.r(n);var t=a(0),l=a.n(t),u=a(21),c=a.n(u),r=(a(44),a(45),a(17),a(4),a(46),a(58));function o(e,n){var a=e-.5+Math.random()*(n-e+1);return Math.round(a)}var i=function(e,n){return e[n+1].value},s=function(e){for(var n=[],a=0;a<5;a++)n.push(i(e,a));return n},d=function(e){return s(e).reduce((function(e,n){return e+n}))},b=function(e,n){var a=s(n),t=e*a.reduce((function(n,a){return a===e?++n:n}),0);switch(e){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}},E=function(e){return e.sort().filter((function(e,n,a){return!n||e!=a[n-1]}))},m=function(e,n){var a=0,t=1;return s(n).sort().reduce((function(n,l){return l===n?t++:t=1,t===e&&(a=l*e),l})),a},S=function(e,n){var a=m(e,n);return 3===e||4===e?a:void 0},v=function(e,n){return 0!==m(e,n)?50:0},f=function(e){var n=s(e);return(n=E(n))[0]===n[1]-1&&n[1]===n[2]-1&&n[2]===n[3]-1?25:0},p=function(e){var n=s(e);return(n=E(n))[0]===n[1]-1&&n[1]===n[2]-1&&n[2]===n[3]-1&&n[3]===n[4]-1?30:0},g=function(e){var n=s(e),a=m(4,e);m(3,e);return 0===a&&2===E(n).length?40:0},R=function(e){var n=0;return h(e)>62?n=35:n},h=function(e){for(var n=0,a=1;a<7;a++){n+=e[a].value}return n},_=function(e){for(var n=0,a=1;a<15;a++){n+=e[a].value}return n},T=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;switch(e){case"ONES":return b(1,n);case"TWOES":return b(2,n);case"THREES":return b(3,n);case"FOURS":return b(4,n);case"FIVES":return b(5,n);case"SIXES":return b(6,n);case"SUB_TOTAL":return h(a);case"BONUS":return R(a);case"THREE_OF_A_KIND":return S(3,n);case"FOUR_OF_A_KIND":return S(4,n);case"FULL_HOUSE":return g(n);case"SMALL_STRAIGHT":return f(n);case"LARGE_STRAIGHT":return p(n);case"YACHT":return v(5,n);case"CHANCE":return d(n);case"TOTAL_SCORE":return _(a);default:return 0}},O=(a(51),a(57)),A=a(55),C=function(e){var n=e.dices.dicesValue,a=e.dices;return l.a.createElement("div",{className:"board-wrapper"},l.a.createElement("h2",null,"Board game"),l.a.createElement("div",{className:"board-table"},l.a.createElement("div",{className:"combination"},Object.keys(e.combinations).map((function(n,t){return l.a.createElement("div",{key:t},l.a.createElement("span",null,e.combinations[n].name),l.a.createElement("span",{className:"combination-result",onClick:function(){return function(n){var t=O.a((function(e){return e.value}),e.dices.dicesValue),l=A.a(t);if(a.currentRoll>0)if(e.combinations[n].canChange&&!l){var u=T(e.combinations[n].type,a.dicesValue,e.combinations),c=0;n<7&&(c=T(e.combinations[n].type,a.dicesValue,e.combinations)),e.writeResult(u,n);var r=_(e.combinations)+u,o=h(e.combinations)+c,i=0;o>62&&(i=35),e.getTotalScore(r,o,i),e.resetPossibleValues(),e.getResetDices()}else e.combinations[n].canChange?l&&e.newMessageAboutStep("\u041d\u043e\u0432\u044b\u0439 \u0445\u043e\u0434! \u041a\u0438\u0434\u0430\u0439\u0442\u0435 \u043a\u043e\u0441\u0442\u0438 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430!"):e.newMessageAboutStep("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}(e.combinations[n].id)}},l.a.createElement("div",{className:"value"}," ",e.combinations[n].value),l.a.createElement("div",{className:"possible-value"}," ",null===e.combinations[n].value&&e.combinations[n].possibleValue," ")))}))),l.a.createElement("div",{className:"result"},Object.keys(n).map((function(t,u){return l.a.createElement("div",{key:u,className:"dice ".concat(n[t].checked?"active":" "),onClick:function(){return l=n[t].id,void e.getPickDice(l,a.currentRoll,a.maxRoll,a.dicesValue[l].checked);var l}},n[t].value)})),a.currentRoll>0?l.a.createElement("div",{className:"result-block"},"\u0431\u0440\u043e\u0441\u043e\u043a ",a.currentRoll):null,a.messageAboutStep.length>0?l.a.createElement("div",null," ",a.messageAboutStep," "):null),l.a.createElement("button",{onClick:function(){return function(n){var t=O.a((function(e){return e.checked}),n);A.a(t)?(e.newMessageAboutStep("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u0441\u0442\u0438 \u0438\u043b\u0438 \u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442!"),console.log("canRoll")):a.currentRoll<a.maxRoll&&a.currentRoll>=0?(e.getMakeRoll(n,a.currentRoll,e.combinations),e.newMessageAboutStep("\u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u0431\u0440\u043e\u0441\u043e\u043a. \u0417\u0430\u043f\u0438\u0448\u0435\u043c \u0438\u043b\u0438 \u043a\u0438\u0434\u0430\u0435\u043c \u0434\u0430\u043b\u044c\u0448\u0435?!"),a.currentRoll+1===a.maxRoll&&e.newMessageAboutStep("\u042d\u0442\u043e \u0431\u044b\u043b \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0431\u0440\u043e\u0441\u043e\u043a, \u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442")):a.currentRoll===a.maxRoll&&e.newMessageAboutStep("\u0411\u0440\u043e\u0441\u043a\u043e\u0432 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442, \u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442")}(a.dicesValue)}},"ROLL!")))},V=a(26),k=a(7),L=a(11),y=a(54),I=a(56),w=a(38),M=a(23),N={combinations:{1:{id:1,value:null,possibleValue:null,name:"Ones",type:"ONES",canChange:!0},2:{id:2,value:null,possibleValue:null,name:"Twoes",type:"TWOES",canChange:!0},3:{id:3,value:null,possibleValue:null,name:"Threes",type:"THREES",canChange:!0},4:{id:4,value:null,possibleValue:null,name:"fours",type:"FOURS",canChange:!0},5:{id:5,value:null,possibleValue:null,name:"fours",type:"FIVES",canChange:!0},6:{id:6,value:null,possibleValue:null,name:"Sixes",type:"SIXES",canChange:!0},7:{id:7,value:null,possibleValue:null,name:"Bonus",type:"BONUS",canChange:!1},8:{id:8,value:null,possibleValue:null,name:"Three of a kind",type:"THREE_OF_A_KIND",canChange:!0},9:{id:9,value:null,possibleValue:null,name:"Four of a kind",type:"FOUR_OF_A_KIND",canChange:!0},10:{id:10,value:null,possibleValue:null,name:"Full house",type:"FULL_HOUSE",canChange:!0},11:{id:11,value:null,possibleValue:null,name:"Small Straight",type:"SMALL_STRAIGHT",canChange:!0},12:{id:12,value:null,possibleValue:null,name:"Large Straight",type:"LARGE_STRAIGHT",canChange:!0},13:{id:13,value:null,possibleValue:null,name:"Yacht",type:"YACHT",canChange:!0},14:{id:14,value:null,possibleValue:null,name:"Chance",type:"CHANCE",canChange:!0},15:{id:15,value:null,possibleValue:null,name:"Sub Total",type:"SUB_TOTAL",canChange:!1},16:{id:16,value:null,possibleValue:null,name:"Total Score",type:"TOTAL_SCORE",canChange:!1}}},U=function(){return{type:"RESET_POSSIBLE_VALUES"}},P=function(e,n){return{type:"GET_TOTAL_SCORE",totalValue:e,id:n}},D=function(e){return function(n){n({type:"RESET_POSSIBLE_VALUES"}),n(function(e){return{type:"WRITE_POSSIBLE_VALUE",combinations:e}}(e))}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"WRITE_RESULT":return e.combinations[n.combinationId].canChange?r.a(["combinations",n.combinationId,"value"],n.result,e):Object(L.a)({},e);case"GET_TOTAL_SCORE":return r.a(["combinations",n.id,"value"],n.totalValue,e);case"MAKE_TABU_FOR_CHANGE":return r.a(["combinations",n.combinationId,"canChange"],n.isChange,e);case"WRITE_POSSIBLE_VALUE":return Object(L.a)({},e,{combinations:n.combinations});case"RESET_POSSIBLE_VALUES":return y.a(I.a("combinations"),w.a(M.a("possibleValue",null)),e);default:return e}},F={dicesValue:{1:{id:1,value:null,checked:!0},2:{id:2,value:null,checked:!0},3:{id:3,value:null,checked:!0},4:{id:4,value:null,checked:!0},5:{id:5,value:null,checked:!0}},currentRoll:0,maxRoll:3,messageAboutStep:"\u041a\u0438\u0434\u0430\u0439\u0442\u0435 \u043a\u043e\u0441\u0442\u0438"},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"MAKE_ROLL":return Object(L.a)({},e,{dicesValue:n.newDicesValue,currentRoll:n.newCurrentRoll});case"PICK_DICE":return r.a(["dicesValue",n.diceId,"checked"],n.checked,e);case"NEW_MESSAGE_ABOUT_STEP":return Object(L.a)({},e,{messageAboutStep:n.newMessage});case"RESET_DICES":return y.a(I.a("dicesValue"),w.a(M.a("value",null)),e);case"RESET_CURRENT_ROLL":return Object(L.a)({},e,{currentRoll:0});default:return e}};Object(k.d)(Object(V.b)((function(e){return{combinations:e.board.combinations,dices:e.dices}}),{writeResult:function(e,n){return function(a){a(function(e,n){return{type:"WRITE_RESULT",result:e,combinationId:n}}(e,n)),a(function(e,n){return{type:"MAKE_TABU_FOR_CHANGE",combinationId:e,isChange:n}}(n,!1))}},resetPossibleValues:U,getTotalScore:function(e,n,a){return function(t){t(P(n,15)),t(P(e,16)),t(P(a,7))}},getPossibleValue:D,getPickDice:function(e,n,a,t){return function(l){n<a&&n>0&&l(function(e,n){return{type:"PICK_DICE",diceId:e,checked:n}}(e,!t))}},getMakeRoll:function(e,n,a){return function(t){var l=function(e){for(var n,a=e,t=1;t<6;t++)n=o(1,6),a=a[t].checked?r.a([t,"value"],n,a):r.a([t,"value"],a[t].value,a);return a}(e);t({type:"RESET_POSSIBLE_VALUES"}),t(function(e,n){return{type:"MAKE_ROLL",newDicesValue:e,newCurrentRoll:n}}(l,n+1)),t(D(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=n,t=1;t<17;t++)if(a[t].canChange){var l=null;switch(t){case 1:l=b(1,e);break;case 2:l=b(2,e);break;case 3:l=b(3,e);break;case 4:l=b(4,e);break;case 5:l=b(5,e);break;case 6:l=b(6,e);break;case 8:l=S(3,e);break;case 9:l=S(4,e);break;case 10:l=g(e);break;case 11:l=f(e);break;case 12:l=p(e);break;case 13:l=v(5,e);break;case 14:l=d(e);break;default:l=0}a=r.a([t,"possibleValue"],l,a)}else{var u=0;a=r.a([t,"possibleValue"],u,a)}return a}(l,a)))}},newMessageAboutStep:function(e){return function(n){n(function(e){return{type:"NEW_MESSAGE_ABOUT_STEP",newMessage:e}}(e))}},getResetDices:function(){return function(e){e({type:"RESET_DICES"}),e({type:"RESET_CURRENT_ROLL"})}}}))((function(e){return l.a.createElement(C,{combinations:e.combinations,dices:e.dices,writeResult:e.writeResult,resetPossibleValues:e.resetPossibleValues,getTotalScore:e.getTotalScore,getPossibleValue:e.getPossibleValue,getPickDice:e.getPickDice,getMakeRoll:e.getMakeRoll,newMessageAboutStep:e.newMessageAboutStep,getResetDices:e.getResetDices})}));var j=function(){};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(37),K=Object(k.c)({board:B,dices:H}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||k.d,x=Object(k.e)(K,W(Object(k.a)(G.a)));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(V.a,{store:x},l.a.createElement(j,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.bf84ed8d.chunk.js.map