(this.webpackJsonpyacht=this.webpackJsonpyacht||[]).push([[0],{39:function(e,n,a){e.exports=a(53)},44:function(e,n,a){},45:function(e,n,a){},46:function(e,n,a){},51:function(e,n,a){},53:function(e,n,a){"use strict";a.r(n);var t=a(0),l=a.n(t),c=a(21),u=a.n(c),r=(a(44),a(45),a(17)),o=a(4),i=function(e){return l.a.createElement("div",null,"Page about")},s=(a(46),function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"nav"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(r.b,{to:"/",exact:!0,activeClassName:"wfm-active"},"Home")),l.a.createElement("li",null,l.a.createElement(r.b,{to:"/about",activeStyle:{color:"blue"}},"About")),l.a.createElement("li",null,l.a.createElement(r.b,{to:{pathname:"/board/"}},"Board game")))))}),m=a(58);function b(e,n){var a=e-.5+Math.random()*(n-e+1);return Math.round(a)}var E=function(e,n){return e[n+1].value},d=function(e){for(var n=[],a=0;a<5;a++)n.push(E(e,a));return n},v=function(e){return d(e).reduce((function(e,n){return e+n}))},S=function(e,n){var a=d(n),t=e*a.reduce((function(n,a){return a===e?++n:n}),0);switch(e){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}},p=function(e){return e.sort().filter((function(e,n,a){return!n||e!=a[n-1]}))},f=function(e,n){var a=0,t=1;return d(n).sort().reduce((function(n,l){return l===n?t++:t=1,t===e&&(a=l*e),l})),a},g=function(e,n){var a=f(e,n);return 3===e||4===e?a:void 0},h=function(e,n){return 0!==f(e,n)?50:0},R=function(e){var n=d(e);return(n=p(n))[0]===n[1]-1&&n[1]===n[2]-1&&n[2]===n[3]-1?25:0},_=function(e){var n=d(e);return(n=p(n))[0]===n[1]-1&&n[1]===n[2]-1&&n[2]===n[3]-1&&n[3]===n[4]-1?30:0},T=function(e){var n=d(e),a=f(4,e);f(3,e);return 0===a&&2===p(n).length?40:0},O=function(e){var n=0;return A(e)>62?n=35:n},A=function(e){for(var n=0,a=1;a<7;a++){n+=e[a].value}return n},C=function(e){for(var n=0,a=1;a<15;a++){n+=e[a].value}return n},V=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;switch(e){case"ONES":return S(1,n);case"TWOES":return S(2,n);case"THREES":return S(3,n);case"FOURS":return S(4,n);case"FIVES":return S(5,n);case"SIXES":return S(6,n);case"SUB_TOTAL":return A(a);case"BONUS":return O(a);case"THREE_OF_A_KIND":return g(3,n);case"FOUR_OF_A_KIND":return g(4,n);case"FULL_HOUSE":return T(n);case"SMALL_STRAIGHT":return R(n);case"LARGE_STRAIGHT":return _(n);case"YACHT":return h(5,n);case"CHANCE":return v(n);case"TOTAL_SCORE":return C(a);default:return 0}},k=(a(51),a(57)),y=a(55),L=function(e){var n=e.dices.dicesValue,a=e.dices;return l.a.createElement("div",{className:"board-wrapper"},l.a.createElement("h2",null,"Board game"),l.a.createElement("div",{className:"board-table"},l.a.createElement("div",{className:"combination"},Object.keys(e.combinations).map((function(n,t){return l.a.createElement("div",{key:t},l.a.createElement("span",null,e.combinations[n].name),l.a.createElement("span",{className:"combination-result",onClick:function(){return function(n){var t=k.a((function(e){return e.value}),e.dices.dicesValue),l=y.a(t);if(a.currentRoll>0)if(e.combinations[n].canChange&&!l){var c=V(e.combinations[n].type,a.dicesValue,e.combinations),u=0;n<7&&(u=V(e.combinations[n].type,a.dicesValue,e.combinations)),e.writeResult(c,n);var r=C(e.combinations)+c,o=A(e.combinations)+u,i=0;o>62&&(i=35),e.getTotalScore(r,o,i),e.resetPossibleValues(),e.getResetDices()}else e.combinations[n].canChange?l&&e.newMessageAboutStep("\u041d\u043e\u0432\u044b\u0439 \u0445\u043e\u0434! \u041a\u0438\u0434\u0430\u0439\u0442\u0435 \u043a\u043e\u0441\u0442\u0438 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430!"):e.newMessageAboutStep("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435")}(e.combinations[n].id)}},l.a.createElement("div",{className:"value"}," ",e.combinations[n].value),l.a.createElement("div",{className:"possible-value"}," ",null===e.combinations[n].value&&e.combinations[n].possibleValue," ")))}))),l.a.createElement("div",{className:"result"},Object.keys(n).map((function(t,c){return l.a.createElement("div",{key:c,className:"dice ".concat(n[t].checked?"active":" "),onClick:function(){return l=n[t].id,void e.getPickDice(l,a.currentRoll,a.maxRoll,a.dicesValue[l].checked);var l}},n[t].value)})),a.currentRoll>0?l.a.createElement("div",{className:"result-block"},"\u0431\u0440\u043e\u0441\u043e\u043a ",a.currentRoll):null,a.messageAboutStep.length>0?l.a.createElement("div",null," ",a.messageAboutStep," "):null),l.a.createElement("button",{onClick:function(){return function(n){var t=k.a((function(e){return e.checked}),n);y.a(t)?(e.newMessageAboutStep("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u0441\u0442\u0438 \u0438\u043b\u0438 \u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442!"),console.log("canRoll")):a.currentRoll<a.maxRoll&&a.currentRoll>=0?(e.getMakeRoll(n,a.currentRoll,e.combinations),e.newMessageAboutStep("\u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u0431\u0440\u043e\u0441\u043e\u043a. \u0417\u0430\u043f\u0438\u0448\u0435\u043c \u0438\u043b\u0438 \u043a\u0438\u0434\u0430\u0435\u043c \u0434\u0430\u043b\u044c\u0448\u0435?!"),a.currentRoll+1===a.maxRoll&&e.newMessageAboutStep("\u042d\u0442\u043e \u0431\u044b\u043b \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0431\u0440\u043e\u0441\u043e\u043a, \u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442")):a.currentRoll===a.maxRoll&&e.newMessageAboutStep("\u0411\u0440\u043e\u0441\u043a\u043e\u0432 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442, \u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442")}(a.dicesValue)}},"ROLL!")))},w=a(26),I=a(7),N=a(11),M=a(54),U=a(56),P=a(38),D=a(23),B={combinations:{1:{id:1,value:null,possibleValue:null,name:"Ones",type:"ONES",canChange:!0},2:{id:2,value:null,possibleValue:null,name:"Twoes",type:"TWOES",canChange:!0},3:{id:3,value:null,possibleValue:null,name:"Threes",type:"THREES",canChange:!0},4:{id:4,value:null,possibleValue:null,name:"fours",type:"FOURS",canChange:!0},5:{id:5,value:null,possibleValue:null,name:"fours",type:"FIVES",canChange:!0},6:{id:6,value:null,possibleValue:null,name:"Sixes",type:"SIXES",canChange:!0},7:{id:7,value:null,possibleValue:null,name:"Bonus",type:"BONUS",canChange:!1},8:{id:8,value:null,possibleValue:null,name:"Three of a kind",type:"THREE_OF_A_KIND",canChange:!0},9:{id:9,value:null,possibleValue:null,name:"Four of a kind",type:"FOUR_OF_A_KIND",canChange:!0},10:{id:10,value:null,possibleValue:null,name:"Full house",type:"FULL_HOUSE",canChange:!0},11:{id:11,value:null,possibleValue:null,name:"Small Straight",type:"SMALL_STRAIGHT",canChange:!0},12:{id:12,value:null,possibleValue:null,name:"Large Straight",type:"LARGE_STRAIGHT",canChange:!0},13:{id:13,value:null,possibleValue:null,name:"Yacht",type:"YACHT",canChange:!0},14:{id:14,value:null,possibleValue:null,name:"Chance",type:"CHANCE",canChange:!0},15:{id:15,value:null,possibleValue:null,name:"Sub Total",type:"SUB_TOTAL",canChange:!1},16:{id:16,value:null,possibleValue:null,name:"Total Score",type:"TOTAL_SCORE",canChange:!1}}},H=function(){return{type:"RESET_POSSIBLE_VALUES"}},F=function(e,n){return{type:"GET_TOTAL_SCORE",totalValue:e,id:n}},j=function(e){return function(n){n({type:"RESET_POSSIBLE_VALUES"}),n(function(e){return{type:"WRITE_POSSIBLE_VALUE",combinations:e}}(e))}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"WRITE_RESULT":return e.combinations[n.combinationId].canChange?m.a(["combinations",n.combinationId,"value"],n.result,e):Object(N.a)({},e);case"GET_TOTAL_SCORE":return m.a(["combinations",n.id,"value"],n.totalValue,e);case"MAKE_TABU_FOR_CHANGE":return m.a(["combinations",n.combinationId,"canChange"],n.isChange,e);case"WRITE_POSSIBLE_VALUE":return Object(N.a)({},e,{combinations:n.combinations});case"RESET_POSSIBLE_VALUES":return M.a(U.a("combinations"),P.a(D.a("possibleValue",null)),e);default:return e}},K={dicesValue:{1:{id:1,value:null,checked:!0},2:{id:2,value:null,checked:!0},3:{id:3,value:null,checked:!0},4:{id:4,value:null,checked:!0},5:{id:5,value:null,checked:!0}},currentRoll:0,maxRoll:3,messageAboutStep:"\u041a\u0438\u0434\u0430\u0439\u0442\u0435 \u043a\u043e\u0441\u0442\u0438"},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"MAKE_ROLL":return Object(N.a)({},e,{dicesValue:n.newDicesValue,currentRoll:n.newCurrentRoll});case"PICK_DICE":return m.a(["dicesValue",n.diceId,"checked"],n.checked,e);case"NEW_MESSAGE_ABOUT_STEP":return Object(N.a)({},e,{messageAboutStep:n.newMessage});case"RESET_DICES":return M.a(U.a("dicesValue"),P.a(D.a("value",null)),e);case"RESET_CURRENT_ROLL":return Object(N.a)({},e,{currentRoll:0});default:return e}},x=Object(I.d)(Object(w.b)((function(e){return{combinations:e.board.combinations,dices:e.dices}}),{writeResult:function(e,n){return function(a){a(function(e,n){return{type:"WRITE_RESULT",result:e,combinationId:n}}(e,n)),a(function(e,n){return{type:"MAKE_TABU_FOR_CHANGE",combinationId:e,isChange:n}}(n,!1))}},resetPossibleValues:H,getTotalScore:function(e,n,a){return function(t){t(F(n,15)),t(F(e,16)),t(F(a,7))}},getPossibleValue:j,getPickDice:function(e,n,a,t){return function(l){n<a&&n>0&&l(function(e,n){return{type:"PICK_DICE",diceId:e,checked:n}}(e,!t))}},getMakeRoll:function(e,n,a){return function(t){var l=function(e){for(var n,a=e,t=1;t<6;t++)n=b(1,6),a=a[t].checked?m.a([t,"value"],n,a):m.a([t,"value"],a[t].value,a);return a}(e);t({type:"RESET_POSSIBLE_VALUES"}),t(function(e,n){return{type:"MAKE_ROLL",newDicesValue:e,newCurrentRoll:n}}(l,n+1)),t(j(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=n,t=1;t<17;t++)if(a[t].canChange){var l=null;switch(t){case 1:l=S(1,e);break;case 2:l=S(2,e);break;case 3:l=S(3,e);break;case 4:l=S(4,e);break;case 5:l=S(5,e);break;case 6:l=S(6,e);break;case 8:l=g(3,e);break;case 9:l=g(4,e);break;case 10:l=T(e);break;case 11:l=R(e);break;case 12:l=_(e);break;case 13:l=h(5,e);break;case 14:l=v(e);break;default:l=0}a=m.a([t,"possibleValue"],l,a)}else{var c=0;a=m.a([t,"possibleValue"],c,a)}return a}(l,a)))}},newMessageAboutStep:function(e){return function(n){n(function(e){return{type:"NEW_MESSAGE_ABOUT_STEP",newMessage:e}}(e))}},getResetDices:function(){return function(e){e({type:"RESET_DICES"}),e({type:"RESET_CURRENT_ROLL"})}}}))((function(e){return l.a.createElement(L,{combinations:e.combinations,dices:e.dices,writeResult:e.writeResult,resetPossibleValues:e.resetPossibleValues,getTotalScore:e.getTotalScore,getPossibleValue:e.getPossibleValue,getPickDice:e.getPickDice,getMakeRoll:e.getMakeRoll,newMessageAboutStep:e.newMessageAboutStep,getResetDices:e.getResetDices})}));var X=function(){return l.a.createElement(r.a,{basename:"/react-yacht"},l.a.createElement("div",{className:"app-wrapper"},l.a.createElement(s,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0,render:function(){return l.a.createElement("h1",null,"Home Page")}}),l.a.createElement(o.b,{path:"/about",component:i}),l.a.createElement(o.b,{path:"/board/:name",component:x}),l.a.createElement(o.b,{path:"/board",component:x}),l.a.createElement(o.a,{to:"/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(37),J=Object(I.c)({board:G,dices:W}),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,q=Object(I.e)(J,$(Object(I.a)(Y.a)));u.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(w.a,{store:q},l.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.fa27f880.chunk.js.map